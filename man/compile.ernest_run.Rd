% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/compile.R
\name{compile.ernest_sampler}
\alias{compile.ernest_sampler}
\alias{compile.ernest_run}
\title{Compile the live set of points for nested sampling}
\usage{
\method{compile}{ernest_sampler}(object, ...)

\method{compile}{ernest_run}(object, clear = FALSE, ...)
}
\arguments{
\item{object}{\code{\link[=ernest_run]{[ernest_run]}} or
\code{\link[=ernest_sampler]{[ernest_sampler]}}\cr Results from a nested sampling run.}

\item{...}{These dots are for future extensions and must be empty.}

\item{clear}{\verb{[logical(1)]}\cr If \code{TRUE}, clears results from previous runs
before compiling. If \code{FALSE}, retains previous results and validates the live
set.}
}
\value{
A copy of \verb{[object]}.

The copy is guaranteed to have a valid live set, created according to the
class of \code{object} and the value of \code{clear}:
\itemize{
\item If \code{object} is an \code{ernest_sampler}, or if \code{clear = TRUE}, a new live set is
created from scratch.
\item If \code{object} is an \code{ernest_run}, the live set is regenerated from previous
results.
}
}
\description{
Prepares an object for nested sampling by validating and (re)generating its
live set. This ensures the sampler is viable before new points are drawn
during the nested sampling algorithm.
}
\details{
\code{compile()} validates the live set bound to \code{object}, ensuring that:
\itemize{
\item Each point in the set is within the unit hypercube.
\item The likelihood function returns valid values (finite double or \code{-Inf}) for
each point.
\item The live set does not represent a perfect likelihood plateau (i.e.,
that all points share the same likelihood). A warning is issued if more
than 25\% of points share the same likelihood value.
}

If validation fails, the live set is removed from \code{object}, preventing
further sampling until the issue is resolved.
}
\examples{
prior <- create_uniform_prior(lower = c(-1, -1), upper = 1)
ll_fn <- function(x) -sum(x^2)
sampler <- ernest_sampler(ll_fn, prior, nlive = 100)

# Compile the sampler to add a live set
compile(sampler)
head(sampler$run_env$unit)

# Continue a previous run
# run <- data(example_run)
# sampler_2 <- compile(example_run)
# sampler_2

# Make a new sampler from a previous run
sampler_3 <- compile(example_run, clear = TRUE)
sampler_3
}
\seealso{
\itemize{
\item \code{\link[=generate]{generate()}} for running samplers with compiled live sets.
}
}
