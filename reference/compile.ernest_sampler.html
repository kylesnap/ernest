<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Prepare an ernest_sampler object for nested sampling — compile.ernest_sampler • ernest</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Prepare an ernest_sampler object for nested sampling — compile.ernest_sampler"><meta name="description" content="Create a new set of live points/particles for a new nested sampling run, or
check the current state of the live points before continuing a previous run."><meta property="og:description" content="Create a new set of live points/particles for a new nested sampling run, or
check the current state of the live points before continuing a previous run."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ernest</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/more-ernest-runs.html">More Ernest Runs</a></li>
    <li><a class="dropdown-item" href="../articles/nested-sampling-with-ernest.html">A Nested Sampling Crash Course with Ernest</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/kylesnap/ernest/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Prepare an <code>ernest_sampler</code> object for nested sampling</h1>
      <small class="dont-index">Source: <a href="https://github.com/kylesnap/ernest/blob/ropensci_submission/R/compile.R" class="external-link"><code>R/compile.R</code></a></small>
      <div class="d-none name"><code>compile.ernest_sampler.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Create a new set of live points/particles for a new nested sampling run, or
check the current state of the live points before continuing a previous run.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for class 'ernest_sampler'</span></span>
<span><span class="fu"><a href="https://generics.r-lib.org/reference/compile.html" class="external-link">compile</a></span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span>, seed <span class="op">=</span> <span class="cn">NA</span>, clear <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>(ernest_sampler) An object of class <code>ernest_sampler</code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>These dots are for future extensions and must be empty.</p></dd>


<dt id="arg-seed">seed<a class="anchor" aria-label="anchor" href="#arg-seed"></a></dt>
<dd><p>(integer or NA, optional) Specification for the random number
generator.</p><ul><li><p>integer: Passed to <code><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed()</a></code>.</p></li>
<li><p><code>NULL</code>: Passed to <code><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed()</a></code>, which reinitializes the generator as if
no seed has yet been set.</p></li>
<li><p><code>NA</code>: Make no changes to the current seed if set. If <code>compile</code> has been
called on <code>object</code> before, then <code>NA</code> will ensure that the seed remain
identical between runs.</p></li>
</ul></dd>


<dt id="arg-clear">clear<a class="anchor" aria-label="anchor" href="#arg-clear"></a></dt>
<dd><p>(boolean) Whether to reset the sampler before compiling.</p><ul><li><p><code>TRUE</code>: Previous results stored in <code>object</code> are removed, and live points
are generated and validated.</p></li>
<li><p><code>FALSE</code>: Previous results stored in <code>object</code> are retained, and live points
are validated.</p></li>
</ul></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>object</code>, invisibly.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The <code>compile</code> function prepares an <code>ernest_sampler</code> object for nested
sampling by ensuring that its set of live points is valid and ready for use.
In addition to constructing the live point set for new runs or when
<code>clear = FALSE</code>, compile also ensures that:</p><ul><li><p>The live points are each represented within the unit hypercube.</p></li>
<li><p>The wrapped likelihood function <code>ernest_likelihood</code> has a valid return
value for each point (either a finite double or <code>-Inf</code>).</p></li>
<li><p>The live points don't represent a perfect plateau (i.e., all points share
the same likelihood). You are warned if more than 25% of the points
share the same likelihood value.</p></li>
</ul><p>If <code>compile</code> fails these validation steps, the set of live points will be
removed from <code>object</code>, preventing you from calling <code><a href="https://generics.r-lib.org/reference/generate.html" class="external-link">generate()</a></code> on a
malformed sampler.</p>
<p>Random number generation can be seeded either through the <code>seed</code> argument,
or by calling <code><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed()</a></code> before running <code>compile</code> or <code>generate</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">prior</span> <span class="op">&lt;-</span> <span class="fu"><a href="create_uniform_prior.html">create_uniform_prior</a></span><span class="op">(</span>n_dim <span class="op">=</span> <span class="fl">2</span>, lower <span class="op">=</span> <span class="op">-</span><span class="fl">1</span>, upper <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ll_fn</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">x</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sampler</span> <span class="op">&lt;-</span> <span class="fu"><a href="nested_sampling.html">nested_sampling</a></span><span class="op">(</span><span class="va">ll_fn</span>, <span class="va">prior</span>, n_point <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Add live points to the sampler</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://generics.r-lib.org/reference/compile.html" class="external-link">compile</a></span><span class="op">(</span><span class="va">sampler</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sampler</span><span class="op">$</span><span class="va">live_points</span><span class="op">$</span><span class="va">unit</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           [,1]      [,2]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] 0.8092600 0.8933744</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] 0.5632866 0.3311443</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] 0.4600272 0.3106995</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,] 0.2293382 0.9517439</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,] 0.9851504 0.3984678</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6,] 0.4691504 0.1493300</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Check the status of the sampler with `clear = FALSE`</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://generics.r-lib.org/reference/compile.html" class="external-link">compile</a></span><span class="op">(</span><span class="va">sampler</span>, clear <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sampler</span><span class="op">$</span><span class="va">live_points</span><span class="op">$</span><span class="va">unit</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           [,1]      [,2]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] 0.8092600 0.8933744</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] 0.5632866 0.3311443</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] 0.4600272 0.3106995</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,] 0.2293382 0.9517439</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,] 0.9851504 0.3984678</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6,] 0.4691504 0.1493300</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Reset the sampler with new live points with `clear = TRUE`</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://generics.r-lib.org/reference/compile.html" class="external-link">compile</a></span><span class="op">(</span><span class="va">sampler</span>, clear <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sampler</span><span class="op">$</span><span class="va">live_points</span><span class="op">$</span><span class="va">unit</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           [,1]      [,2]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] 0.7364245 0.9222809</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] 0.4591469 0.5981844</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] 0.7512136 0.4839136</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,] 0.0754709 0.9646164</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,] 0.1202378 0.9849806</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6,] 0.8002604 0.3736118</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Kyle Dewsnap.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

