<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Compile a set of live points for nested sampling — compile.ernest_sampler • ernest</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Compile a set of live points for nested sampling — compile.ernest_sampler"><meta name="description" content="Prepares an object for nested sampling by validating and (re)generating its
set of live points. This ensures the sampler is viable before new live points
are generated during the nested sampling algorithm."><meta property="og:description" content="Prepares an object for nested sampling by validating and (re)generating its
set of live points. This ensures the sampler is viable before new live points
are generated during the nested sampling algorithm."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ernest</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/more-ernest-runs.html">More Ernest Runs</a></li>
    <li><a class="dropdown-item" href="../articles/nested-sampling-with-ernest.html">Quickstart: Nested Sampling with Ernest</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/kylesnap/ernest/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Compile a set of live points for nested sampling</h1>
      <small class="dont-index">Source: <a href="https://github.com/kylesnap/ernest/blob/main/R/compile.R" class="external-link"><code>R/compile.R</code></a></small>
      <div class="d-none name"><code>compile.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Prepares an object for nested sampling by validating and (re)generating its
set of live points. This ensures the sampler is viable before new live points
are generated during the nested sampling algorithm.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for class 'ernest_sampler'</span></span>
<span><span class="fu"><a href="https://generics.r-lib.org/reference/compile.html" class="external-link">compile</a></span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span>, seed <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'ernest_run'</span></span>
<span><span class="fu"><a href="https://generics.r-lib.org/reference/compile.html" class="external-link">compile</a></span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span>, seed <span class="op">=</span> <span class="cn">NA</span>, clear <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>An <a href="ernest_sampler.html">ernest_sampler</a> or <a href="generate.ernest_sampler.html">ernest_run</a> object.</p><ul><li><p>For <code>ernest_sampler</code>: Prepares a new sampler with a fresh set of live
points.</p></li>
<li><p>For <code>ernest_run</code>: Regenerates live points from previous results, unless
<code>clear = TRUE</code>.</p></li>
</ul></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>These dots are for future extensions and must be empty.</p></dd>


<dt id="arg-seed">seed<a class="anchor" aria-label="anchor" href="#arg-seed"></a></dt>
<dd><p>An integer, <code>NULL</code>, or <code>NA</code>. Controls the random number
generator:</p><ul><li><p>Integer or <code>NULL</code>: Passed to <code><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed()</a></code>. If <code>NULL</code>, reinitializes the
generator as if no seed has yet been set.</p></li>
<li><p><code>NA</code>: Makes no changes to the current seed. If <code><a href="https://generics.r-lib.org/reference/compile.html" class="external-link">compile()</a></code> has been
called on <code>object</code> before, <code>NA</code> ensures the seed remains identical
between runs.</p></li>
</ul></dd>


<dt id="arg-clear">clear<a class="anchor" aria-label="anchor" href="#arg-clear"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, clears results from previous runs before
compiling. If <code>FALSE</code>, retains previous results and validates live points.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A validated <code>object</code>, with a valid set of live points stored in its
<code>run_env</code> environment.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code><a href="https://generics.r-lib.org/reference/compile.html" class="external-link">compile()</a></code> validates the set of live points in the sampler or run,
ensuring:</p><ul><li><p>Each live point is within the unit hypercube.</p></li>
<li><p>The likelihood function returns valid values (finite double or <code>-Inf</code>) for
each point.</p></li>
<li><p>The set of live points is not a perfect plateau (all points sharing the
same likelihood). A warning is issued if more than 25% of points share the
same likelihood value.</p></li>
</ul><p>If validation fails, the set of live points is removed, preventing further
sampling until the issue is resolved.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index">
<ul><li><p><code><a href="ernest_sampler.html">ernest_sampler()</a></code> for creating an <code>ernest_sampler</code> object.</p></li>
<li><p><code><a href="https://generics.r-lib.org/reference/generate.html" class="external-link">generate()</a></code> for running nested sampling and details on the <code>ernest_run</code>
object.</p></li>
</ul></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">prior</span> <span class="op">&lt;-</span> <span class="fu"><a href="create_uniform_prior.html">create_uniform_prior</a></span><span class="op">(</span>n_dim <span class="op">=</span> <span class="fl">2</span>, lower <span class="op">=</span> <span class="op">-</span><span class="fl">1</span>, upper <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> New names:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">•</span> `Uniform` -&gt; `Uniform...1`</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">•</span> `Uniform` -&gt; `Uniform...2`</span>
<span class="r-in"><span><span class="va">ll_fn</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">x</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sampler</span> <span class="op">&lt;-</span> <span class="fu"><a href="ernest_sampler.html">ernest_sampler</a></span><span class="op">(</span><span class="va">ll_fn</span>, <span class="va">prior</span>, n_points <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Compile the sampler to add live points</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://generics.r-lib.org/reference/compile.html" class="external-link">compile</a></span><span class="op">(</span><span class="va">sampler</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Creating new live points.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Nested sampling specification <span style="color: #0000BB;">&lt;ernest_sampler&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> No. Points: 100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ── Sampling Method </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> • Random Walk in Unit Cube LRPS <span style="color: #0000BB;">&lt;rwmh_cube/ernest_lrps&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> • No. Dimensions: 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> • No. Calls Since Update: 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> • No. Accepted Since Update: 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> • Current Step Size: 1</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sampler</span><span class="op">$</span><span class="va">run_env</span><span class="op">$</span><span class="va">unit</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           [,1]       [,2]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] 0.9947288 0.98949724</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] 0.9889581 0.09055999</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] 0.9465411 0.91811271</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,] 0.9413467 0.08311054</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,] 0.0780184 0.92671498</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6,] 0.9569834 0.11210960</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Continue a previous run</span></span></span>
<span class="r-in"><span><span class="co"># run &lt;- data(example_run)</span></span></span>
<span class="r-in"><span><span class="co"># sampler_2 &lt;- compile(example_run)</span></span></span>
<span class="r-in"><span><span class="co"># sampler_2</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Make a new sampler from a previous run</span></span></span>
<span class="r-in"><span><span class="va">sampler_3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://generics.r-lib.org/reference/compile.html" class="external-link">compile</a></span><span class="op">(</span><span class="va">example_run</span>, clear <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Creating new live points.</span>
<span class="r-in"><span><span class="va">sampler_3</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Nested sampling specification <span style="color: #0000BB;">&lt;ernest_sampler&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> No. Points: 500</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ── Sampling Method </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> • Random Walk in Unit Cube LRPS <span style="color: #0000BB;">&lt;rwmh_cube/ernest_lrps&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> • No. Dimensions: 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> • No. Calls Since Update: 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> • No. Accepted Since Update: 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> • Current Step Size: 0.0223</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Kyle Dewsnap.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

